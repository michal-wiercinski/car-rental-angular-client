<cs-header>
  <p levels>Registration</p>
  <div content>
  </div>
</cs-header>
<div class="main-panel">
  <div class="content">
    <div class="container-fluid">
      <div class="card">
        <div class="card-header card-header-primary">
          <h4 class="card-title">Create new accountant</h4>
          <p class="card-category">Please enter data to your profile</p>
        </div>
        <div class="card-body">
          <div *ngIf="submitted"
               [ngClass]="{'alert alert-success mb-2': !apiResponse.error,'alert alert-danger mb-2': apiResponse.error }"
               class="alert alert-danger" role="alert">
            {{apiResponse.message}}
          </div>
          <form [formGroup]="newUserForm">
            <div class="row">
              <div class="col-md-3">
                <div class="form-group">
                  <label class="bmd-label-floating">First name</label>
                  <input formControlName="firstName" type="text" class="form-control">
                </div>
                <div>
              <span class="text-danger error-input"
                    *ngIf="(formControls.firstName.touched || submitted) && formControls.firstName.errors?.required">
                First name is required
              </span>
                  <span class="text-danger error-input"
                        *ngIf="submitted && errorFieldSubmitted['firstName']"
                        style="white-space: pre-line;">
                {{errorFieldSubmitted['firstName'] | apiMessage}}
              </span>
                </div>
              </div>
              <div class="col-md-3">
                <div class="form-group">
                  <label class="bmd-label-floating">Last name</label>
                  <input formControlName="lastName" type="text" class="form-control">
                </div>
                <div>
              <span class="text-danger error-input"
                    *ngIf="(formControls.lastName.touched || submitted) && formControls.lastName.errors?.required">
                Last name is required
              </span>
                  <span class="text-danger error-input"
                        *ngIf="submitted && errorFieldSubmitted['lastName']"
                        style="white-space: pre-line;">
                {{errorFieldSubmitted['lastName'] | apiMessage}}
              </span>
                </div>
              </div>
              <div class="col-md-3">
                <div class="form-group">
                  <label class="bmd-label-floating">E-mail address</label>
                  <input formControlName="email" type="email" class="form-control">
                </div>
                <div>
              <span class="text-danger error-input"
                    *ngIf="(formControls.email.touched || submitted) && formControls.email.errors?.required">
                Email is required
              </span>
                  <span class="text-danger error-input"
                        *ngIf="submitted && errorFieldSubmitted['email']"
                        style="white-space: pre-line;">
                {{errorFieldSubmitted['email'] | apiMessage}}
              </span>
                </div>
              </div>
            </div>
            <div formGroupName="password">
              <div class="row">
                <div class="col-md-3">
                  <div class="form-group">
                    <label class="bmd-label-floating">Password</label>
                    <input formControlName="newPassword" type="password" class="form-control">
                  </div>
                  <div>
              <span class="text-danger error-input"
                    *ngIf="(newPasswordControl.touched || submitted) && newPasswordControl.errors?.required">
                Password is required
              </span>
                    <span class="text-danger error-input"
                          *ngIf="submitted && (errorFieldSubmitted['passwordDto'] || errorFieldSubmitted['passwordDto.newPassword'])"
                          style="white-space: pre-line;">
                {{errorFieldSubmitted['passwordDto'] | apiMessage}} <br>
                      {{errorFieldSubmitted['passwordDto.newPassword'] | apiMessage}}
              </span>
                  </div>
                </div>
                <div class="col-md-3">
                  <div class="form-group">
                    <label class="bmd-label-floating">Confirm password</label>
                    <input formControlName="confirmPassword" type="password" class="form-control">
                  </div>
                  <div>
              <span class="text-danger error-input"
                    *ngIf="(confirmPasswordControl.touched|| submitted) && confirmPasswordControl.errors?.required">
                Confirm password is required
              </span>
                    <span class="text-danger error-input"
                          *ngIf="submitted && (errorFieldSubmitted['passwordDto'] || errorFieldSubmitted['passwordDto.confirmPassword'])"
                          style="white-space: pre-line;">
                {{errorFieldSubmitted['passwordDto'] | apiMessage}} <br>
                      {{errorFieldSubmitted['passwordDto.confirmPassword'] | apiMessage}}
              </span>
                  </div>
                </div>
              </div>
            </div>
            <div class="row">
              <!--    <div class="col-md-3">
                    <div class="form-group">
                      <label class="bmd-label-floating">Country</label>
                      <input formControlName="country" type="text" class="form-control">
                    </div>
                  </div>-->
              <div class="col-md-3">
                <div class="form-group">
                  <label class="bmd-label-floating">City</label>
                  <input formControlName="city" type="text" class="form-control">
                </div>
                <div>
              <span class="text-danger error-input"
                    *ngIf="(formControls.city.touched || submitted) && formControls.city.errors?.required">
                City is required
              </span>
                  <span class="text-danger error-input"
                        *ngIf="submitted && errorFieldSubmitted['city']"
                        style="white-space: pre-line;">
                {{errorFieldSubmitted['city'] | apiMessage}}
              </span>
                </div>
              </div>
              <div class="col-md-3">
                <div class="form-group">
                  <label class="bmd-label-floating">Street</label>
                  <input formControlName="street" type="text" class="form-control">
                </div>
                <div>
              <span class="text-danger error-input"
                    *ngIf="(formControls.street.touched || submitted) && formControls.street.errors?.required">
                Street is required
              </span>
                  <span class="text-danger error-input"
                        *ngIf="submitted && errorFieldSubmitted['street']"
                        style="white-space: pre-line;">
                {{errorFieldSubmitted['street'] | apiMessage}}
              </span>
                </div>
              </div>
              <div class="col-md-2">
                <div class="form-group">
                  <label class="bmd-label-floating">House number</label>
                  <input formControlName="houseNumber" type="text" class="form-control">
                </div>
                <div>
              <span class="text-danger error-input"
                    *ngIf="(formControls.houseNumber.touched || submitted) && formControls.houseNumber.errors?.required">
                House number is required
              </span>
                  <span class="text-danger error-input"
                        *ngIf="submitted && errorFieldSubmitted['houseNumber']"
                        style="white-space: pre-line;">
                {{errorFieldSubmitted['houseNumber'] | apiMessage}}
              </span>
                </div>
              </div>
              <div class="col-md-2">
                <div class="form-group">
                  <label class="bmd-label-floating">Zip code</label>
                  <input formControlName="zipCode" type="text" class="form-control">
                </div>
                <div>
              <span class="text-danger error-input"
                    *ngIf="(formControls.zipCode.touched || submitted) && formControls.zipCode.errors?.required">
                Zip code is required
              </span>
                  <span class="text-danger error-input"
                        *ngIf="submitted && errorFieldSubmitted['zipCode']"
                        style="white-space: pre-line;">
                {{errorFieldSubmitted['zipCode'] | apiMessage}}
              </span>
                </div>
              </div>
            </div>
            <div class="row">
              <div class="col-sm-12 col-md-5 pt-3 pl-5">
                <button [disabled]="newUserForm.invalid" (click)="onSubmit()" class="btn btn-outline-primary">
                  <i class="material-icons">add</i>Sign up
                </button>
              </div>
            </div>
           <!-- <div class="alert alert-warning" *ngIf="isRegistrationFailed">
              Registration failed!<br/>{{ errorMessage }}
            </div>-->
          </form>
        <!--  <div class="alert alert-success" *ngIf="isSuccessful">
            Your registration is successful!
          </div>-->
          <pre>{{newUserForm.value | json}}</pre>
        </div>
      </div>
    </div>
  </div>
</div>
